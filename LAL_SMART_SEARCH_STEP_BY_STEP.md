# LAL 智能搜尋 - Lovable 超詳細分步開發計劃

## 📋 項目概述

**項目名稱**：LAL 智能搜尋功能完善  
**平台**：LiveaLittle DeFi（Lovable）  
**目標**：完善 LAL 智能搜尋的每個細節，打造專業的投資分析工具  
**預計時間**：2-3 小時  

---

## 🎯 當前狀態

✅ **已完成**：
- Strategy 頁面已添加 LAL 智能搜尋標籤
- 基礎框架已搭建
- API 整合已完成

🔄 **需要完善**：
- 搜尋表單細節優化
- 結果卡片視覺效果
- 交互動畫
- 錯誤處理
- 響應式設計
- 性能優化

---

## 📚 分步開發計劃

### 階段 1：優化搜尋表單 UI（6 步驟）

#### 步驟 1.1：優化基礎參數卡片

**目標**：讓基礎參數卡片更直觀易用

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的基礎參數卡片：

1. 卡片樣式：
   - 背景：bg-slate-800/50（半透明深色）
   - 邊框：border border-slate-700
   - 圓角：rounded-xl（16px）
   - 內邊距：p-6
   - 陰影：shadow-lg

2. 標題樣式：
   - 文字：「基礎參數」
   - 字體：text-lg font-semibold
   - 顏色：text-cyan-400
   - 圖標：📊 在標題前面

3. 代幣選擇優化：
   - 使用 Select 組件（shadcn/ui）
   - 選項帶圖標：
     - ETH 💎
     - BTC ₿
     - SOL ◎
     - AVAX 🔺
     - MATIC 🟣
   - 默認值：ETH
   - 標籤：「選擇代幣」，text-sm text-gray-400

4. 投資資本優化：
   - 標籤：「投資資本」，text-sm text-gray-400
   - 輸入框：
     - 前綴：$ 符號（text-cyan-400）
     - 默認值：10000
     - 格式化：千位分隔符（如 10,000）
     - placeholder：「輸入投資金額」
   - 快捷按鈕（4 個並排）：
     - 樣式：bg-slate-700 hover:bg-cyan-600
     - 圓角：rounded-lg
     - 內邊距：px-4 py-2
     - 文字：$1K, $5K, $10K, $50K
     - 點擊時自動填充並高亮按鈕

請實現這些優化。
```

**驗證檢查**：
- [ ] 卡片有半透明背景和邊框
- [ ] 標題有圖標和青色文字
- [ ] 代幣選擇有圖標
- [ ] 投資資本有千位分隔符
- [ ] 快捷按鈕可以點擊並高亮

---

#### 步驟 1.2：優化對沖參數卡片

**目標**：讓對沖設置更專業和易懂

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的對沖參數卡片：

1. 卡片樣式：
   - 背景：bg-gradient-to-br from-cyan-900/20 to-blue-900/20
   - 邊框：border border-cyan-700/50
   - 圓角：rounded-xl
   - 內邊距：p-6
   - 陰影：shadow-lg
   - 發光效果：ring-1 ring-cyan-500/20

2. 標題樣式：
   - 文字：「對沖設置」
   - 字體：text-lg font-semibold
   - 顏色：text-cyan-300
   - 圖標：🛡️ 在標題前面
   - 提示圖標：ⓘ 在標題右側，懸停顯示說明

3. 對沖比率滑塊：
   - 標籤：「對沖比率」
   - 滑塊組件（shadcn/ui Slider）：
     - 範圍：0-100
     - 步進：5
     - 默認值：100
     - 軌道顏色：bg-slate-700
     - 填充顏色：bg-gradient-to-r from-cyan-500 to-blue-500
     - 滑塊按鈕：bg-cyan-400，hover 時放大
   - 實時顯示：
     - 位置：滑塊右側
     - 文字：「100%」，text-2xl font-bold text-cyan-400
     - 描述：根據值顯示不同文字
       - 100%：「（完全對沖）」
       - 75-99%：「（高度對沖）」
       - 50-74%：「（中度對沖）」
       - 25-49%：「（低度對沖）」
       - 0-24%：「（最小對沖）」
   - 提示文字（卡片底部）：
     - 背景：bg-cyan-500/10
     - 圓角：rounded-lg
     - 內邊距：p-3
     - 圖標：💡
     - 文字：「100% 對沖可將 IL 從 -32% 降低到 -0.75%，顯著提升收益」
     - 顏色：text-cyan-300 text-sm

4. 再平衡頻率：
   - 標籤：「再平衡頻率」
   - 輸入框：
     - 類型：number
     - 範圍：1-30
     - 默認值：7
     - 後綴：「天」（text-gray-400）
   - 快捷按鈕（3 個並排）：
     - 每日（1 天）
     - 每週（7 天）- 默認高亮
     - 每月（30 天）
   - 提示文字：
     - 圖標：📅
     - 文字：「建議每週再平衡一次以獲得最佳效果」
     - 顏色：text-gray-400 text-xs

請實現這些優化。
```

**驗證檢查**：
- [ ] 卡片有漸變背景和發光效果
- [ ] 標題有盾牌圖標和提示圖標
- [ ] 滑塊有漸變填充色
- [ ] 實時顯示對沖比率和描述
- [ ] 提示文字有背景和圖標
- [ ] 再平衡頻率有快捷按鈕

---

#### 步驟 1.3：優化篩選條件卡片

**目標**：讓高級篩選更易用

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的篩選條件卡片：

1. 可折疊設計：
   - 默認狀態：折疊（只顯示標題）
   - 標題：
     - 文字：「高級篩選」
     - 圖標：🔍
     - 展開/折疊圖標：▼/▲（右側）
     - 點擊標題切換展開/折疊
   - 展開動畫：平滑下滑（transition-all duration-300）

2. 卡片樣式（展開時）：
   - 背景：bg-slate-800/30
   - 邊框：border border-slate-700/50
   - 圓角：rounded-xl
   - 內邊距：p-6
   - 陰影：shadow-md

3. 最小 APY 篩選：
   - 標籤：「最小 APY」
   - 輸入框：
     - 類型：number
     - 默認值：50
     - 後綴：%
     - placeholder：「如 50」
   - 快捷按鈕（5 個）：
     - 0%（全部）
     - 30%（穩健）
     - 50%（平衡）- 默認
     - 80%（進取）
     - 100%（激進）
   - 提示：「設為 0 以查看所有機會」

4. 區塊鏈篩選：
   - 標籤：「區塊鏈」
   - 多選下拉菜單（shadcn/ui MultiSelect）：
     - 選項（帶圖標和顏色）：
       - Ethereum 🔷（藍色）
       - Arbitrum 🔵（深藍）
       - Base 🔵（藍色）
       - Optimism 🔴（紅色）
       - Polygon 🟣（紫色）
       - Avalanche 🔺（紅色）
       - Solana ◎（紫色）
     - 默認：全選
     - 顯示已選數量：「已選 7 個鏈」
   - 快捷選擇：
     - 全選按鈕
     - 只選 L2 按鈕（Arbitrum, Base, Optimism, Polygon）
     - 只選 L1 按鈕（Ethereum, Solana, Avalanche）

5. 協議篩選：
   - 標籤：「DeFi 協議」
   - 多選下拉菜單：
     - 選項（帶 Logo 顏色）：
       - Uniswap V3 🦄（粉色）
       - Curve 📈（藍色）
       - Raydium ⚡（紫色）
       - Trader Joe 🔺（紅色）
       - Balancer ⚖️（黑色）
     - 默認：全選
     - 顯示已選數量
   - 快捷選擇：
     - 全選按鈕
     - 只選 DEX 按鈕

6. 結果數量滑塊：
   - 標籤：「顯示結果數量」
   - 滑塊：
     - 範圍：1-20
     - 步進：1
     - 默認值：5
     - 實時顯示：「5 個機會」
   - 快捷按鈕：
     - Top 3
     - Top 5（默認）
     - Top 10
     - Top 20

請實現這些優化。
```

**驗證檢查**：
- [ ] 卡片可以折疊/展開
- [ ] 展開有平滑動畫
- [ ] 最小 APY 有快捷按鈕
- [ ] 區塊鏈選項有圖標和顏色
- [ ] 有快捷選擇按鈕（全選、L2、L1）
- [ ] 協議選項有 Logo
- [ ] 結果數量滑塊有快捷按鈕

---

#### 步驟 1.4：優化搜尋按鈕

**目標**：讓搜尋按鈕更吸引人

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的搜尋按鈕：

1. 按鈕樣式：
   - 全寬：w-full
   - 高度：h-14（56px）
   - 背景：bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500
   - 圓角：rounded-xl
   - 陰影：shadow-lg shadow-cyan-500/50
   - 文字：text-white text-lg font-bold
   - 圖標 + 文字：🔍 開始智能搜尋

2. 懸停效果：
   - 背景變亮：brightness-110
   - 陰影加深：shadow-xl shadow-cyan-500/70
   - 輕微放大：scale-105
   - 平滑過渡：transition-all duration-300

3. 加載狀態：
   - 禁用按鈕
   - 背景變灰：bg-slate-600
   - 顯示旋轉圖標：⟳（動畫旋轉）
   - 文字：「搜尋中...」
   - 進度條（按鈕下方）：
     - 高度：h-1
     - 背景：bg-cyan-500
     - 動畫：從左到右移動（indeterminate progress）

4. 成功狀態（搜尋完成）：
   - 短暫顯示（1 秒）
   - 背景：bg-green-500
   - 圖標：✓
   - 文字：「搜尋完成！」
   - 然後恢復正常狀態

5. 錯誤狀態（搜尋失敗）：
   - 背景：bg-red-500
   - 圖標：✗
   - 文字：「搜尋失敗，點擊重試」
   - 可點擊重試

6. 按鈕下方提示：
   - 文字：「預計搜尋時間：5-15 秒」
   - 顏色：text-gray-400 text-xs
   - 居中對齊

請實現這些優化。
```

**驗證檢查**：
- [ ] 按鈕有漸變背景和發光陰影
- [ ] 懸停時有放大和變亮效果
- [ ] 加載時顯示旋轉圖標和進度條
- [ ] 成功時短暫顯示綠色
- [ ] 失敗時顯示紅色和重試選項
- [ ] 按鈕下方有預計時間提示

---

#### 步驟 1.5：添加表單驗證

**目標**：確保用戶輸入有效

**Lovable 提示詞**：
```
為 LAL 智能搜尋添加表單驗證：

1. 投資資本驗證：
   - 最小值：$100
   - 最大值：$10,000,000
   - 錯誤提示（輸入框下方）：
     - 顏色：text-red-400 text-sm
     - 圖標：⚠️
     - 文字：「投資資本必須在 $100 - $10,000,000 之間」
   - 實時驗證：輸入時立即檢查

2. 對沖比率驗證：
   - 範圍：0-100
   - 警告提示（低於 50% 時）：
     - 背景：bg-yellow-500/20
     - 邊框：border-l-4 border-yellow-500
     - 圖標：⚠️
     - 文字：「低對沖比率可能導致較高的 IL 風險」

3. 再平衡頻率驗證：
   - 範圍：1-30 天
   - 建議提示（大於 14 天時）：
     - 背景：bg-blue-500/20
     - 圖標：💡
     - 文字：「再平衡頻率過長可能降低對沖效果」

4. 最小 APY 驗證：
   - 範圍：0-1000%
   - 警告提示（大於 200% 時）：
     - 圖標：⚠️
     - 文字：「高 APY 要求可能導致無結果」

5. 全局驗證：
   - 搜尋按鈕：
     - 只有所有驗證通過才啟用
     - 未通過時顯示禁用狀態（opacity-50 cursor-not-allowed）
   - 錯誤摘要（表單頂部）：
     - 顯示所有錯誤
     - 背景：bg-red-500/20
     - 邊框：border border-red-500
     - 可關閉

請實現這些驗證。
```

**驗證檢查**：
- [ ] 投資資本有範圍限制
- [ ] 輸入無效值時顯示錯誤提示
- [ ] 低對沖比率顯示警告
- [ ] 長再平衡頻率顯示建議
- [ ] 高 APY 要求顯示警告
- [ ] 驗證未通過時按鈕禁用

---

#### 步驟 1.6：添加表單重置功能

**目標**：讓用戶可以快速重置表單

**Lovable 提示詞**：
```
為 LAL 智能搜尋添加表單重置功能：

1. 重置按鈕：
   - 位置：搜尋按鈕右側（或下方，移動端）
   - 樣式：
     - 背景：bg-slate-700
     - 邊框：border border-slate-600
     - 圓角：rounded-xl
     - 高度：h-14
     - 文字：text-gray-300
     - 圖標 + 文字：🔄 重置
   - 懸停效果：
     - 背景：bg-slate-600
     - 文字：text-white

2. 重置功能：
   - 點擊時恢復所有默認值：
     - 代幣：ETH
     - 投資資本：$10,000
     - 對沖比率：100%
     - 再平衡頻率：7 天
     - 最小 APY：50%
     - 區塊鏈：全選
     - 協議：全選
     - 結果數量：5
   - 清除所有錯誤提示
   - 清除搜尋結果
   - 顯示確認提示（toast）：
     - 文字：「已重置為默認值」
     - 圖標：✓
     - 顏色：bg-green-500

3. 確認對話框（可選）：
   - 如果用戶已修改值，顯示確認對話框：
     - 標題：「確認重置」
     - 文字：「確定要重置所有設置嗎？」
     - 按鈕：
       - 確認（紅色）
       - 取消（灰色）

請實現這些功能。
```

**驗證檢查**：
- [ ] 有重置按鈕
- [ ] 點擊重置恢復所有默認值
- [ ] 顯示確認提示
- [ ] 清除錯誤和結果
- [ ] 有確認對話框（可選）

---

### 階段 2：優化結果卡片 UI（5 步驟）

#### 步驟 2.1：優化卡片整體佈局

**目標**：讓結果卡片更專業美觀

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的整體佈局：

1. 網格佈局：
   - 容器：
     - 桌面（>1024px）：grid grid-cols-2 gap-6
     - 平板（768-1024px）：grid grid-cols-1 gap-4
     - 手機（<768px）：flex flex-col gap-4
   - 動畫：
     - 卡片進入：淡入 + 從下往上滑動
     - Stagger effect：每個卡片延遲 100ms
     - 使用 framer-motion 或 CSS animation

2. 單個卡片樣式：
   - 背景：bg-gradient-to-br from-slate-800 to-slate-900
   - 邊框：border border-slate-700
   - 圓角：rounded-2xl（16px）
   - 內邊距：p-6
   - 陰影：shadow-xl shadow-black/50
   - 最小高度：min-h-[500px]

3. 懸停效果：
   - 放大：scale-[1.02]
   - 陰影加深：shadow-2xl shadow-cyan-500/20
   - 邊框發光：ring-2 ring-cyan-500/50
   - 平滑過渡：transition-all duration-300
   - Z-index 提升：hover:z-10

4. 卡片內部結構（從上到下）：
   - 頭部區域（flex justify-between）
   - 協議和鏈 Badge 區域
   - 主要指標區域（高亮顯示）
   - IL 對沖分析區域
   - 收益分解區域
   - 其他指標區域
   - 操作按鈕區域（底部）

5. 分隔線：
   - 每個區域之間添加分隔線
   - 樣式：border-t border-slate-700/50
   - 間距：my-4

請實現這些優化。
```

**驗證檢查**：
- [ ] 桌面顯示 2 列
- [ ] 平板和手機顯示 1 列
- [ ] 卡片有漸變背景
- [ ] 懸停時有放大和發光效果
- [ ] 卡片進入有動畫
- [ ] 各區域有分隔線

---

#### 步驟 2.2：優化卡片頭部

**目標**：讓頭部信息更突出

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的頭部：

1. 排名徽章（左上角）：
   - 只顯示前 3 名
   - 第 1 名：
     - 圖標：🥇
     - 背景：bg-gradient-to-r from-yellow-500 to-yellow-600
     - 文字：「#1」
     - 陰影：shadow-lg shadow-yellow-500/50
   - 第 2 名：
     - 圖標：🥈
     - 背景：bg-gradient-to-r from-gray-400 to-gray-500
     - 文字：「#2」
     - 陰影：shadow-lg shadow-gray-400/50
   - 第 3 名：
     - 圖標：🥉
     - 背景：bg-gradient-to-r from-orange-500 to-orange-600
     - 文字：「#3」
     - 陰影：shadow-lg shadow-orange-500/50
   - 樣式：
     - 圓角：rounded-full
     - 內邊距：px-3 py-1
     - 字體：text-sm font-bold text-white
     - 絕對定位：absolute -top-3 -left-3

2. 池名稱（中間）：
   - 文字：如「WETH-USDT」
   - 字體：text-2xl font-bold
   - 顏色：text-white
   - 間距：mb-2
   - 可複製：點擊複製池名稱
     - 顯示複製圖標：📋
     - 點擊後顯示 toast：「已複製」

3. 綜合評分（右上角）：
   - 容器：
     - 背景：bg-gradient-to-br from-cyan-500 to-blue-500
     - 圓角：rounded-2xl
     - 內邊距：p-4
     - 陰影：shadow-lg shadow-cyan-500/50
   - 數值：
     - 字體：text-5xl font-black（超大粗體）
     - 顏色：text-white
     - 如：「93.0」
   - 滿分：
     - 字體：text-lg
     - 顏色：text-cyan-100
     - 如：「/100」
   - 評級星星：
     - 根據評分顯示星星數量
     - 90-100：⭐⭐⭐⭐⭐
     - 80-89：⭐⭐⭐⭐
     - 70-79：⭐⭐⭐
     - 60-69：⭐⭐
     - <60：⭐

請實現這些優化。
```

**驗證檢查**：
- [ ] 前 3 名有排名徽章
- [ ] 徽章有不同顏色和發光效果
- [ ] 池名稱可以點擊複製
- [ ] 綜合評分有漸變背景
- [ ] 評分數字超大且粗體
- [ ] 有評級星星

---

#### 步驟 2.3：優化協議和鏈 Badge

**目標**：讓 Badge 更美觀和信息豐富

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的協議和鏈 Badge：

1. Badge 容器：
   - 佈局：flex flex-wrap gap-2
   - 間距：mt-3 mb-4

2. 協議 Badge：
   - 樣式：
     - 背景：根據協議不同
       - Uniswap V3：bg-pink-500/20 border-pink-500
       - Curve：bg-blue-500/20 border-blue-500
       - Raydium：bg-purple-500/20 border-purple-500
       - Trader Joe：bg-red-500/20 border-red-500
       - Balancer：bg-gray-500/20 border-gray-500
     - 邊框：border
     - 圓角：rounded-lg
     - 內邊距：px-3 py-1
   - 內容：
     - 圖標：對應協議的 emoji
     - 文字：協議名稱
     - 字體：text-sm font-medium
   - 懸停效果：
     - 背景變亮：brightness-125
     - 顯示 tooltip：協議詳細信息

3. 鏈 Badge：
   - 樣式：
     - 背景：根據鏈不同
       - Ethereum：bg-blue-500/20 border-blue-500
       - Arbitrum：bg-blue-600/20 border-blue-600
       - Base：bg-blue-400/20 border-blue-400
       - Optimism：bg-red-500/20 border-red-500
       - Polygon：bg-purple-500/20 border-purple-500
       - Avalanche：bg-red-600/20 border-red-600
       - Solana：bg-purple-600/20 border-purple-600
     - 邊框：border
     - 圓角：rounded-lg
     - 內邊距：px-3 py-1
   - 內容：
     - 圖標：對應鏈的 emoji
     - 文字：鏈名稱
     - 字體：text-sm font-medium
   - 懸停效果：
     - 背景變亮
     - 顯示 tooltip：鏈詳細信息（如 Gas 費用）

4. TVL Badge（新增）：
   - 位置：協議和鏈 Badge 右側
   - 樣式：
     - 背景：bg-green-500/20
     - 邊框：border border-green-500
     - 圓角：rounded-lg
     - 內邊距：px-3 py-1
   - 內容：
     - 圖標：💰
     - 文字：TVL 金額（如「$158.9M」）
     - 字體：text-sm font-semibold text-green-400

請實現這些優化。
```

**驗證檢查**：
- [ ] 協議 Badge 有對應顏色和圖標
- [ ] 鏈 Badge 有對應顏色和圖標
- [ ] 懸停時顯示 tooltip
- [ ] 有 TVL Badge
- [ ] Badge 排列整齊

---

#### 步驟 2.4：優化主要指標區域

**目標**：讓核心數據更突出

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的主要指標區域：

1. 容器樣式：
   - 背景：bg-gradient-to-r from-cyan-900/30 to-blue-900/30
   - 邊框：border-2 border-cyan-500/50
   - 圓角：rounded-xl
   - 內邊距：p-5
   - 陰影：shadow-lg shadow-cyan-500/20
   - 間距：my-4

2. 調整後淨 APY：
   - 標籤：
     - 文字：「調整後淨 APY」
     - 圖標：📈
     - 字體：text-sm text-gray-400
     - 間距：mb-2
   - 數值：
     - 字體：text-5xl font-black（超大粗體）
     - 顏色：text-gradient（漸變文字）
       - 使用 bg-clip-text 和 text-transparent
       - 漸變：from-green-400 via-cyan-400 to-blue-400
     - 如：「91.86%」
     - 動畫：數字從 0 增長到目標值（countup effect）
   - 對比指示（如果有）：
     - 顯示與無對沖情況的差異
     - 如：「+31.25%」
     - 顏色：text-green-400
     - 圖標：↑

3. 預期年收益：
   - 標籤：
     - 文字：「預期年收益」
     - 圖標：💵
     - 字體：text-sm text-gray-400
     - 間距：mt-4 mb-2
   - 數值：
     - 字體：text-4xl font-bold
     - 顏色：text-green-400
     - 如：「$9,186」
     - 動畫：數字增長效果
   - 月收益（新增）：
     - 文字：「月收益約 $765」
     - 字體：text-sm text-gray-400
     - 間距：mt-1

4. 進度條（視覺化）：
   - 顯示收益佔投資資本的比例
   - 樣式：
     - 高度：h-2
     - 背景：bg-slate-700
     - 填充：bg-gradient-to-r from-green-500 to-cyan-500
     - 圓角：rounded-full
   - 間距：mt-3

請實現這些優化。
```

**驗證檢查**：
- [ ] 區域有漸變背景和發光邊框
- [ ] APY 數字超大且有漸變顏色
- [ ] 數字有增長動畫
- [ ] 顯示對比指示
- [ ] 顯示月收益
- [ ] 有進度條視覺化

---

#### 步驟 2.5：優化 IL 對沖分析區域

**目標**：清晰展示對沖效果

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的 IL 對沖分析區域：

1. 容器樣式：
   - 背景：bg-gradient-to-r from-blue-900/20 to-purple-900/20
   - 邊框：border border-blue-500/30
   - 圓角：rounded-xl
   - 內邊距：p-5
   - 間距：my-4

2. 標題：
   - 文字：「IL 對沖分析」
   - 圖標：🛡️
   - 字體：text-lg font-semibold text-blue-300
   - 提示圖標：ⓘ（懸停顯示 IL 說明）

3. 對比視覺化（新增）：
   - 使用兩個並排的卡片對比
   - 左側：無對沖
     - 標籤：「無對沖」
     - IL 數值：-32.00%（紅色，大字）
     - 圖標：❌
     - 背景：bg-red-500/10
   - 右側：對沖後
     - 標籤：「對沖後」
     - IL 數值：-0.75%（綠色，大字）
     - 圖標：✓
     - 背景：bg-green-500/10
   - 中間箭頭：→（顯示改善）

4. 詳細指標（4 行）：
   - 每行樣式：
     - 佈局：flex justify-between items-center
     - 間距：py-2
     - 邊框：border-b border-slate-700/30（最後一行無邊框）
   
   - 預期 IL（無對沖）：
     - 標籤：「預期 IL（無對沖）」+ ⓘ
     - 數值：-32.00%
     - 顏色：text-red-400 font-bold
   
   - 淨 IL（對沖後）：
     - 標籤：「淨 IL（對沖後）」
     - 數值：-0.75%
     - 顏色：text-green-400 font-bold text-xl
     - 高亮：bg-green-500/10 px-2 py-1 rounded
   
   - 對沖有效性：
     - 標籤：「對沖有效性」
     - 數值：97.67%
     - 顏色：text-cyan-400 font-semibold
     - 進度條：
       - 寬度：w-24
       - 填充：根據百分比
       - 顏色：bg-cyan-500
   
   - 對沖質量：
     - 標籤：「對沖質量」
     - Badge：
       - excellent：bg-green-500 text-white
       - good：bg-blue-500 text-white
       - fair：bg-yellow-500 text-black
       - poor：bg-red-500 text-white
     - 圖標：
       - excellent：⭐⭐⭐
       - good：⭐⭐
       - fair：⭐
       - poor：❌

5. IL 影響（USD）：
   - 標籤：「IL 影響（美元）」
   - 數值：-$74.67
   - 顏色：根據正負
     - 負數：text-red-400
     - 正數：text-green-400
   - 字體：text-lg font-semibold

6. 說明文字（底部）：
   - 背景：bg-blue-500/10
   - 圓角：rounded-lg
   - 內邊距：p-3
   - 圖標：💡
   - 文字：「通過 100% 對沖，IL 從 -32% 降低到 -0.75%，節省 $XXX」
   - 顏色：text-blue-300 text-sm

請實現這些優化。
```

**驗證檢查**：
- [ ] 有對比視覺化（無對沖 vs 對沖後）
- [ ] 淨 IL 數值高亮顯示
- [ ] 對沖有效性有進度條
- [ ] 對沖質量有 Badge 和星星
- [ ] 有說明文字
- [ ] 提示圖標有 tooltip

---

### 階段 3：優化收益分解和其他指標（3 步驟）

#### 步驟 3.1：優化收益分解區域

**目標**：清晰展示收益來源

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的收益分解區域：

1. 容器樣式：
   - 背景：bg-slate-800/50
   - 邊框：border border-slate-700/50
   - 圓角：rounded-xl
   - 內邊距：p-5
   - 間距：my-4

2. 標題：
   - 文字：「收益分解」
   - 圖標：📊
   - 字體：text-lg font-semibold text-gray-300
   - 間距：mb-4

3. 收益項目（4 個）：
   - 每個項目包含：
     - 標籤 + 圖標
     - 金額（美元）
     - 百分比（佔總收益）
     - 進度條

   **LP 收益**：
   - 圖標：💰
   - 標籤：「LP 收益」
   - 金額：$8,366（text-green-400 font-semibold）
   - 百分比：91.1%（text-gray-400 text-sm）
   - 進度條：
     - 背景：bg-slate-700
     - 填充：bg-green-500
     - 高度：h-2
     - 圓角：rounded-full
     - 寬度：根據百分比
     - 動畫：從 0 增長到目標寬度

   **資金費率收益**：
   - 圖標：📈
   - 標籤：「資金費率收益」
   - 金額：$1,095（text-cyan-400 font-semibold）
   - 百分比：11.9%
   - 進度條：bg-cyan-500

   **IL 損失**：
   - 圖標：⚠️
   - 標籤：「IL 損失（對沖後）」
   - 金額：-$75（text-red-400 font-semibold）
   - 百分比：-0.8%
   - 進度條：bg-red-500（反向）

   **Gas 成本**：
   - 圖標：⛽
   - 標籤：「Gas 成本（年化）」
   - 金額：-$200（text-orange-400 font-semibold）
   - 百分比：-2.2%
   - 進度條：bg-orange-500（反向）

4. 總收益（底部，高亮）：
   - 分隔線：border-t border-slate-600 my-3
   - 標籤：「總收益」
   - 圖標：💵
   - 金額：$9,186
   - 字體：text-2xl font-bold text-green-400
   - 背景：bg-green-500/10 px-3 py-2 rounded-lg

5. 圓餅圖（可選，新增）：
   - 位置：收益項目右側或下方
   - 顯示各收益來源的比例
   - 顏色：
     - LP 收益：綠色
     - 資金費率：青色
     - IL 損失：紅色
     - Gas 成本：橙色
   - 使用 recharts 或 chart.js

請實現這些優化。
```

**驗證檢查**：
- [ ] 4 個收益項目都有圖標
- [ ] 每個項目有金額和百分比
- [ ] 進度條有動畫效果
- [ ] 總收益高亮顯示
- [ ] 有圓餅圖（可選）

---

#### 步驟 3.2：優化其他指標區域

**目標**：展示補充信息

**Lovable 提示詞**：
```
優化 LAL 智能搜尋結果卡片的其他指標區域：

1. 容器樣式：
   - 佈局：grid grid-cols-2 gap-4
   - 間距：my-4

2. 戴維斯雙擊評分：
   - 容器：
     - 背景：bg-purple-900/20
     - 邊框：border border-purple-500/30
     - 圓角：rounded-lg
     - 內邊距：p-4
   - 標籤：
     - 文字：「戴維斯評分」
     - 圖標：📊
     - 字體：text-sm text-gray-400
   - 評分：
     - 數值：100/100
     - 字體：text-2xl font-bold text-purple-400
     - 星星：⭐⭐⭐⭐⭐（根據評分）
   - 評級：
     - Badge：如「極佳」
     - 顏色：根據評級
       - 極佳：bg-green-500
       - 優秀：bg-blue-500
       - 良好：bg-yellow-500
       - 一般：bg-orange-500
       - 較差：bg-red-500

3. TVL（流動性）：
   - 容器：
     - 背景：bg-green-900/20
     - 邊框：border border-green-500/30
     - 圓角：rounded-lg
     - 內邊距：p-4
   - 標籤：
     - 文字：「總鎖倉量」
     - 圖標：💰
     - 字體：text-sm text-gray-400
   - 數值：
     - 金額：$158.9M
     - 字體：text-2xl font-bold text-green-400
   - 等級指示：
     - 根據 TVL 大小顯示等級
     - >$100M：🔥🔥🔥 極高流動性
     - $50M-$100M：🔥🔥 高流動性
     - $10M-$50M：🔥 中等流動性
     - <$10M：⚠️ 低流動性

4. 協議信息：
   - 容器：
     - 背景：bg-blue-900/20
     - 邊框：border border-blue-500/30
     - 圓角：rounded-lg
     - 內邊距：p-4
   - 標籤：「協議」
   - 協議名稱：Uniswap V3
   - 協議類型：DEX
   - 協議圖標：🦄

5. 區塊鏈信息：
   - 容器：
     - 背景：bg-cyan-900/20
     - 邊框：border border-cyan-500/30
     - 圓角：rounded-lg
     - 內邊距：p-4
   - 標籤：「區塊鏈」
   - 鏈名稱：Ethereum
   - 鏈類型：L1
   - 鏈圖標：🔷
   - Gas 費用指示：
     - 低：💚 低成本
     - 中：💛 中等成本
     - 高：❤️ 高成本

6. 風險等級（新增）：
   - 容器：
     - 背景：根據風險等級
       - 低風險：bg-green-900/20
       - 中風險：bg-yellow-900/20
       - 高風險：bg-red-900/20
     - 邊框：對應顏色
     - 圓角：rounded-lg
     - 內邊距：p-4
   - 標籤：「風險等級」
   - 等級：
     - 低風險：🟢 低風險
     - 中風險：🟡 中風險
     - 高風險：🔴 高風險
   - 說明：簡短的風險描述

請實現這些優化。
```

**驗證檢查**：
- [ ] 使用 2 列網格佈局
- [ ] 戴維斯評分有星星和評級 Badge
- [ ] TVL 有流動性等級指示
- [ ] 協議和鏈信息完整
- [ ] 有風險等級指示
- [ ] 每個指標有對應顏色主題

---

#### 步驟 3.3：添加操作按鈕區域

**目標**：讓用戶可以對結果進行操作

**Lovable 提示詞**：
```
為 LAL 智能搜尋結果卡片添加操作按鈕區域：

1. 容器樣式：
   - 位置：卡片底部
   - 佈局：flex gap-2
   - 間距：mt-6 pt-4
   - 邊框：border-t border-slate-700

2. 主要操作按鈕：
   - 查看詳情：
     - 樣式：
       - 背景：bg-gradient-to-r from-cyan-500 to-blue-500
       - 文字：text-white font-semibold
       - 圓角：rounded-lg
       - 內邊距：px-4 py-2
       - flex-1
     - 圖標 + 文字：👁️ 查看詳情
     - 懸停：brightness-110
     - 點擊：打開詳情模態框

3. 次要操作按鈕：
   - 收藏：
     - 樣式：
       - 背景：bg-slate-700
       - 文字：text-gray-300
       - 圓角：rounded-lg
       - 內邊距：px-4 py-2
     - 圖標：❤️（未收藏）/ 💖（已收藏）
     - 懸停：bg-slate-600
     - 點擊：切換收藏狀態

   - 分享：
     - 樣式：同收藏
     - 圖標：📤
     - 點擊：打開分享選項
       - 複製鏈接
       - Twitter
       - Telegram

   - 比較：
     - 樣式：同收藏
     - 圖標：⚖️
     - 點擊：添加到比較列表
     - 顯示已選數量（如果 > 0）

4. 快速操作（新增）：
   - 位置：按鈕上方
   - 佈局：flex justify-between text-xs
   - 內容：
     - 查看池地址：
       - 圖標：🔗
       - 文字：「查看池」
       - 點擊：在新標籤頁打開區塊鏈瀏覽器
     - 查看協議：
       - 圖標：🌐
       - 文字：「訪問協議」
       - 點擊：在新標籤頁打開協議官網

5. 詳情模態框（點擊查看詳情時打開）：
   - 樣式：
     - 背景：bg-slate-900
     - 寬度：max-w-4xl
     - 圓角：rounded-2xl
     - 內邊距：p-8
   - 內容：
     - 標題：池名稱 + 關閉按鈕
     - 完整的指標信息
     - 歷史數據圖表（APY 趨勢）
     - 詳細的風險說明
     - 操作指南（如何參與）
   - 關閉：
     - 點擊背景關閉
     - ESC 鍵關閉
     - 關閉按鈕

請實現這些功能。
```

**驗證檢查**：
- [ ] 有查看詳情按鈕
- [ ] 有收藏、分享、比較按鈕
- [ ] 有快速操作鏈接
- [ ] 點擊查看詳情打開模態框
- [ ] 模態框顯示完整信息
- [ ] 收藏狀態可以切換

---

### 階段 4：添加交互和動畫（4 步驟）

#### 步驟 4.1：添加加載狀態

**目標**：優化加載體驗

**Lovable 提示詞**：
```
為 LAL 智能搜尋添加優化的加載狀態：

1. 骨架屏（搜尋中顯示）：
   - 數量：5 個卡片骨架
   - 樣式：
     - 背景：bg-slate-800
     - 圓角：rounded-2xl
     - 高度：h-[500px]
     - 動畫：shimmer effect（閃爍效果）
   - 內容：
     - 模擬卡片結構
     - 頭部：矩形 + 圓形
     - 主體：多個矩形條
     - 使用 animate-pulse

2. 加載進度指示：
   - 位置：搜尋按鈕下方
   - 進度條：
     - 背景：bg-slate-700
     - 填充：bg-gradient-to-r from-cyan-500 to-blue-500
     - 高度：h-1
     - 圓角：rounded-full
     - 動畫：indeterminate progress（來回移動）
   - 進度文字：
     - 文字：「正在分析 20,000+ LP 池...」
     - 字體：text-sm text-gray-400
     - 動畫：文字輪換
       - 「正在分析 LP 池...」
       - 「計算 IL 對沖效果...」
       - 「評估投資機會...」
       - 「即將完成...」

3. 加載動畫圖標：
   - 位置：結果區域中心
   - 圖標：
     - 使用 Lottie 動畫或 SVG 動畫
     - 主題：搜尋/分析相關
     - 顏色：青色漸變
   - 大小：w-24 h-24
   - 旋轉動畫：animate-spin

4. 加載時間估算：
   - 顯示預計剩餘時間
   - 文字：「預計還需 X 秒」
   - 根據實際 API 響應時間動態更新

請實現這些加載狀態。
```

**驗證檢查**：
- [ ] 有 5 個骨架屏卡片
- [ ] 骨架屏有閃爍動畫
- [ ] 有進度條動畫
- [ ] 進度文字會輪換
- [ ] 有加載動畫圖標
- [ ] 顯示預計時間

---

#### 步驟 4.2：添加空狀態和錯誤狀態

**目標**：處理特殊情況

**Lovable 提示詞**：
```
為 LAL 智能搜尋添加空狀態和錯誤狀態：

1. 初始空狀態（未搜尋）：
   - 位置：結果區域中心
   - 內容：
     - 圖標：🔍（大號，text-6xl）
     - 標題：「開始智能搜尋」
     - 字體：text-2xl font-bold text-gray-300
     - 描述：「設置參數並點擊搜尋按鈕，發現最佳 Delta Neutral 投資機會」
     - 字體：text-gray-400
   - 提示卡片（3 個並排）：
     - 卡片 1：
       - 圖標：💡
       - 標題：「智能分析」
       - 文字：「分析 20,000+ LP 池」
     - 卡片 2：
       - 圖標：🛡️
       - 標題：「IL 對沖」
       - 文字：「計算對沖效果」
     - 卡片 3：
       - 圖標：📊
       - 標題：「精準評分」
       - 文字：「戴維斯雙擊評分」

2. 無結果狀態（搜尋無結果）：
   - 位置：結果區域中心
   - 內容：
     - 圖標：😔（大號）
     - 標題：「未找到符合條件的機會」
     - 描述：「請嘗試調整篩選條件」
   - 建議卡片：
     - 標題：「建議」
     - 圖標：💡
     - 建議列表：
       - 降低最小 APY 要求
       - 移除區塊鏈或協議篩選
       - 降低對沖比率
       - 增加結果數量
   - 重置按鈕：
     - 文字：「重置為默認值」
     - 樣式：bg-cyan-500 hover:bg-cyan-600
     - 點擊：重置所有篩選條件並重新搜尋

3. 錯誤狀態（API 錯誤）：
   - 位置：結果區域中心
   - 內容：
     - 圖標：⚠️（大號，text-red-400）
     - 標題：「搜尋失敗」
     - 描述：顯示具體錯誤信息
   - 錯誤類型：
     - 網絡錯誤：
       - 圖標：📡
       - 文字：「網絡連接失敗，請檢查您的網絡」
     - API 錯誤：
       - 圖標：🔧
       - 文字：「服務暫時不可用，請稍後重試」
     - 超時錯誤：
       - 圖標：⏱️
       - 文字：「請求超時，請重試」
   - 操作按鈕：
     - 重試按鈕：
       - 文字：「🔄 重試」
       - 樣式：bg-cyan-500 hover:bg-cyan-600
       - 點擊：重新發起搜尋
     - 報告問題按鈕：
       - 文字：「📧 報告問題」
       - 樣式：bg-slate-700 hover:bg-slate-600
       - 點擊：打開反饋表單

4. 部分結果狀態（結果少於預期）：
   - 位置：結果列表上方
   - 內容：
     - 背景：bg-yellow-500/20
     - 邊框：border-l-4 border-yellow-500
     - 圖標：⚠️
     - 文字：「僅找到 X 個機會，少於預期的 Y 個」
     - 建議：「嘗試放寬篩選條件以獲得更多結果」
   - 可關閉

請實現這些狀態。
```

**驗證檢查**：
- [ ] 未搜尋時顯示初始空狀態
- [ ] 有 3 個提示卡片
- [ ] 無結果時顯示建議
- [ ] 錯誤時顯示具體錯誤類型
- [ ] 有重試和報告問題按鈕
- [ ] 部分結果時顯示警告

---

#### 步驟 4.3：添加動畫效果

**目標**：提升用戶體驗

**Lovable 提示詞**：
```
為 LAL 智能搜尋添加流暢的動畫效果：

1. 頁面進入動畫：
   - 搜尋表單：
     - 從上往下淡入
     - 延遲：0ms
     - 持續時間：500ms
     - 緩動：ease-out
   - 使用 framer-motion 或 CSS animation

2. 結果卡片動畫：
   - 進入動畫：
     - 從下往上滑動 + 淡入
     - Stagger effect：每個卡片延遲 100ms
     - 持續時間：600ms
     - 緩動：cubic-bezier(0.4, 0, 0.2, 1)
   - 退出動畫：
     - 淡出 + 縮小
     - 持續時間：300ms

3. 卡片懸停動畫：
   - 放大：scale-[1.02]
   - 陰影加深：shadow-2xl
   - 邊框發光：ring-2 ring-cyan-500/50
   - Y 軸移動：-translateY-1
   - 持續時間：200ms
   - 緩動：ease-in-out

4. 數字增長動畫：
   - APY、收益等數字：
     - 從 0 增長到目標值
     - 持續時間：1500ms
     - 緩動：ease-out
     - 使用 countup.js 或自定義 hook

5. 進度條動畫：
   - 收益分解進度條：
     - 從 0 寬度增長到目標寬度
     - 延遲：根據順序遞增（0ms, 100ms, 200ms, 300ms）
     - 持續時間：800ms
     - 緩動：ease-in-out

6. 按鈕動畫：
   - 點擊效果：
     - 縮小：scale-95
     - 持續時間：100ms
   - 加載狀態：
     - 圖標旋轉：animate-spin
     - 進度條移動：animate-pulse

7. 模態框動畫：
   - 打開：
     - 背景淡入：opacity 0 → 1
     - 內容縮放 + 淡入：scale-95 opacity-0 → scale-100 opacity-100
     - 持續時間：300ms
   - 關閉：
     - 反向動畫
     - 持續時間：200ms

8. Toast 通知動畫：
   - 進入：
     - 從右側滑入
     - 持續時間：300ms
   - 退出：
     - 淡出 + 向右滑出
     - 持續時間：200ms

9. 滑塊動畫：
   - 拖動時：
     - 滑塊按鈕放大：scale-110
     - 填充色變亮：brightness-110
   - 釋放時：
     - 恢復原大小
     - 持續時間：150ms

10. 折疊動畫：
    - 高級篩選折疊/展開：
      - 高度變化：h-0 ↔ h-auto
      - 透明度：opacity-0 ↔ opacity-100
      - 持續時間：300ms
      - 緩動：ease-in-out

請實現這些動畫效果。
```

**驗證檢查**：
- [ ] 頁面進入有淡入動畫
- [ ] 卡片進入有 stagger 效果
- [ ] 卡片懸停有放大和發光
- [ ] 數字有增長動畫
- [ ] 進度條有延遲增長
- [ ] 按鈕有點擊反饋
- [ ] 模態框有縮放動畫
- [ ] Toast 有滑入/滑出
- [ ] 滑塊拖動有反饋
- [ ] 折疊有平滑動畫

---

#### 步驟 4.4：添加響應式優化

**目標**：完美適配所有設備

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的響應式設計：

1. 桌面端（>1024px）：
   - 搜尋表單：
     - 3 個卡片並排（基礎參數、對沖參數、篩選條件）
     - 或 2 列佈局
   - 結果卡片：
     - 2 列網格
     - 間距：gap-6

2. 平板端（768px-1024px）：
   - 搜尋表單：
     - 2 列佈局（基礎參數 + 對沖參數一列，篩選條件獨立一列）
     - 或全部單列
   - 結果卡片：
     - 1 列
     - 間距：gap-4

3. 手機端（<768px）：
   - 搜尋表單：
     - 全部單列
     - 卡片內邊距減小：p-4
     - 快捷按鈕：
       - 2 列網格（投資資本快捷按鈕）
       - 或滾動橫向列表
   - 對沖參數：
     - 滑塊下方顯示數值（不是右側）
   - 篩選條件：
     - 默認折疊
     - 下拉菜單全寬
   - 結果卡片：
     - 1 列
     - 簡化顯示：
       - 隱藏次要信息
       - 使用折疊顯示詳細信息
     - 其他指標：
       - 改為單列（不是 2 列）
     - 操作按鈕：
       - 縱向堆疊或圖標按鈕

4. 小屏手機（<375px）：
   - 進一步簡化：
     - 字體大小減小
     - 內邊距減小
     - 隱藏非關鍵信息

5. 觸摸優化：
   - 所有可點擊元素：
     - 最小尺寸：44x44px
     - 增加觸摸區域：padding
   - 滑塊：
     - 滑塊按鈕更大：w-6 h-6
     - 軌道更高：h-3

6. 橫屏優化：
   - 手機橫屏：
     - 搜尋表單：2 列佈局
     - 結果卡片：2 列

7. 字體縮放：
   - 使用相對單位（rem）
   - 確保在系統字體放大時仍可讀

8. 圖片和圖標：
   - 使用 SVG（可縮放）
   - 或提供多種尺寸

9. 導航優化：
   - 手機端：
     - 添加返回頂部按鈕
     - 固定搜尋按鈕（底部）

10. 測試：
    - 測試設備：
      - iPhone SE（375px）
      - iPhone 12（390px）
      - iPad（768px）
      - iPad Pro（1024px）
      - Desktop（1920px）
    - 測試方向：
      - 豎屏
      - 橫屏

請實現這些響應式優化。
```

**驗證檢查**：
- [ ] 桌面端 2 列卡片
- [ ] 平板端 1 列卡片
- [ ] 手機端簡化顯示
- [ ] 快捷按鈕適配小屏
- [ ] 滑塊在手機端易用
- [ ] 所有按鈕足夠大（44px+）
- [ ] 橫屏時優化佈局
- [ ] 在不同設備測試通過

---

### 階段 5：性能優化和最終調整（3 步驟）

#### 步驟 5.1：性能優化

**目標**：提升加載速度和流暢度

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的性能：

1. API 調用優化：
   - 添加請求緩存：
     - 緩存時間：5 分鐘
     - 緩存 key：基於搜尋參數
     - 使用 localStorage 或 React Query
   - 防抖：
     - 搜尋按鈕點擊後 1 秒內不能再次點擊
   - 請求取消：
     - 如果用戶再次搜尋，取消之前的請求
     - 使用 AbortController

2. 組件優化：
   - 使用 React.memo：
     - OpportunityCard 組件
     - SearchForm 組件
   - 使用 useMemo：
     - 計算密集型操作（如排序、篩選）
   - 使用 useCallback：
     - 事件處理函數

3. 圖片優化：
   - 使用 WebP 格式
   - 懶加載：
     - 結果卡片中的圖片
     - 使用 Intersection Observer
   - 響應式圖片：
     - 根據設備提供不同尺寸

4. 代碼分割：
   - 懶加載組件：
     - 詳情模態框
     - 圖表組件
   - 使用 React.lazy 和 Suspense

5. 虛擬滾動：
   - 如果結果超過 20 個：
     - 使用虛擬滾動（react-window 或 react-virtual）
     - 只渲染可見的卡片

6. 動畫優化：
   - 使用 CSS transform 和 opacity（GPU 加速）
   - 避免使用 width、height 等觸發 reflow 的屬性
   - 使用 will-change 提示瀏覽器

7. 字體優化：
   - 使用字體子集
   - 預加載關鍵字體
   - 使用 font-display: swap

8. 監控和分析：
   - 添加性能監控：
     - API 響應時間
     - 頁面加載時間
     - 渲染時間
   - 使用 React DevTools Profiler

請實現這些性能優化。
```

**驗證檢查**：
- [ ] API 請求有緩存
- [ ] 搜尋按鈕有防抖
- [ ] 組件使用 memo 優化
- [ ] 圖片懶加載
- [ ] 大量結果使用虛擬滾動
- [ ] 動畫流暢（60fps）
- [ ] 頁面加載快速（<3 秒）

---

#### 步驟 5.2：可訪問性優化

**目標**：讓所有用戶都能使用

**Lovable 提示詞**：
```
優化 LAL 智能搜尋的可訪問性：

1. 鍵盤導航：
   - 所有交互元素可通過 Tab 鍵訪問
   - 焦點順序合理：
     - 表單輸入 → 搜尋按鈕 → 結果卡片 → 操作按鈕
   - 焦點樣式清晰：
     - 使用 focus-visible
     - 藍色發光邊框：ring-2 ring-blue-500
   - 快捷鍵：
     - Enter：提交搜尋
     - Esc：關閉模態框
     - /：聚焦搜尋表單

2. 屏幕閱讀器支持：
   - 語義化 HTML：
     - 使用 <form>、<button>、<label> 等
   - ARIA 標籤：
     - aria-label：為圖標按鈕添加描述
     - aria-describedby：為輸入框添加說明
     - aria-live：為動態內容添加通知
   - 標題層級：
     - 使用正確的 h1-h6 層級
   - 替代文本：
     - 為圖標添加 aria-label
     - 為圖片添加 alt

3. 顏色對比：
   - 文字和背景對比度：
     - 最小對比度：4.5:1（正常文字）
     - 最小對比度：3:1（大文字）
   - 使用工具檢查：
     - WCAG Color Contrast Checker
   - 不僅依賴顏色：
     - 使用圖標 + 文字
     - 使用圖案 + 顏色

4. 表單可訪問性：
   - 標籤關聯：
     - 每個輸入框有 <label>
     - 使用 htmlFor 關聯
   - 錯誤提示：
     - 使用 aria-invalid
     - 使用 aria-errormessage
     - 錯誤信息清晰具體
   - 必填字段：
     - 使用 required 屬性
     - 使用 aria-required
     - 視覺指示：*

5. 動畫可訪問性：
   - 尊重用戶偏好：
     - 檢查 prefers-reduced-motion
     - 如果用戶偏好減少動畫，禁用或簡化動畫
   - 提供暫停控制：
     - 對於自動播放的動畫

6. 文字可讀性：
   - 字體大小：
     - 最小 16px（正文）
     - 可縮放（使用 rem）
   - 行高：
     - 最小 1.5（正文）
   - 段落寬度：
     - 最大 80 字符

7. 觸摸目標：
   - 最小尺寸：44x44px
   - 間距：至少 8px

8. 測試：
   - 使用屏幕閱讀器測試：
     - NVDA（Windows）
     - JAWS（Windows）
     - VoiceOver（Mac/iOS）
   - 使用鍵盤測試：
     - 不使用鼠標完成所有操作
   - 使用自動化工具：
     - axe DevTools
     - Lighthouse

請實現這些可訪問性優化。
```

**驗證檢查**：
- [ ] 所有元素可通過鍵盤訪問
- [ ] 焦點樣式清晰
- [ ] 有 ARIA 標籤
- [ ] 顏色對比度符合標準
- [ ] 表單有正確的標籤
- [ ] 尊重 prefers-reduced-motion
- [ ] 通過 Lighthouse 可訪問性測試

---

#### 步驟 5.3：最終測試和調整

**目標**：確保一切完美

**Lovable 提示詞**：
```
進行 LAL 智能搜尋的最終測試和調整：

1. 功能測試：
   - 搜尋功能：
     - [ ] 使用默認參數搜尋
     - [ ] 修改每個參數並搜尋
     - [ ] 使用篩選條件搜尋
     - [ ] 測試邊界值（最小/最大）
   - 表單驗證：
     - [ ] 輸入無效值
     - [ ] 檢查錯誤提示
     - [ ] 驗證未通過時按鈕禁用
   - 結果展示：
     - [ ] 檢查所有數據正確顯示
     - [ ] 檢查排名徽章
     - [ ] 檢查 IL 分析
     - [ ] 檢查收益分解
   - 操作功能：
     - [ ] 查看詳情
     - [ ] 收藏
     - [ ] 分享
     - [ ] 比較

2. UI/UX 測試：
   - 視覺一致性：
     - [ ] 顏色主題一致
     - [ ] 字體一致
     - [ ] 間距一致
     - [ ] 圓角一致
   - 交互反饋：
     - [ ] 懸停效果
     - [ ] 點擊反饋
     - [ ] 加載狀態
     - [ ] 錯誤提示
   - 動畫流暢度：
     - [ ] 卡片進入動畫
     - [ ] 數字增長動畫
     - [ ] 進度條動畫
     - [ ] 模態框動畫

3. 響應式測試：
   - 桌面端：
     - [ ] 1920x1080
     - [ ] 1366x768
   - 平板端：
     - [ ] iPad（768x1024）
     - [ ] iPad Pro（1024x1366）
   - 手機端：
     - [ ] iPhone SE（375x667）
     - [ ] iPhone 12（390x844）
     - [ ] 大屏手機（414x896）
   - 橫屏：
     - [ ] 手機橫屏
     - [ ] 平板橫屏

4. 瀏覽器兼容性：
   - [ ] Chrome（最新）
   - [ ] Firefox（最新）
   - [ ] Safari（最新）
   - [ ] Edge（最新）
   - [ ] 移動瀏覽器（Chrome/Safari）

5. 性能測試：
   - [ ] 頁面加載時間 < 3 秒
   - [ ] API 響應時間 < 15 秒
   - [ ] 動畫幀率 ≥ 60fps
   - [ ] Lighthouse 性能分數 > 90

6. 可訪問性測試：
   - [ ] 鍵盤導航完整
   - [ ] 屏幕閱讀器可用
   - [ ] 顏色對比度符合 WCAG
   - [ ] Lighthouse 可訪問性分數 > 90

7. 錯誤處理測試：
   - [ ] 網絡錯誤
   - [ ] API 錯誤
   - [ ] 超時錯誤
   - [ ] 無結果情況
   - [ ] 部分結果情況

8. 邊界情況測試：
   - [ ] 極小投資額（$100）
   - [ ] 極大投資額（$10M）
   - [ ] 0% 對沖比率
   - [ ] 100% 對沖比率
   - [ ] 極高 APY 要求（200%+）
   - [ ] 只選擇 1 個鏈
   - [ ] 只選擇 1 個協議

9. 最終調整：
   - 根據測試結果調整：
     - [ ] 修復發現的 bug
     - [ ] 優化性能瓶頸
     - [ ] 改進 UI 細節
     - [ ] 完善錯誤提示
     - [ ] 優化動畫時長

10. 文檔更新：
    - [ ] 更新使用說明
    - [ ] 更新 API 文檔
    - [ ] 添加常見問題
    - [ ] 添加故障排除指南

請完成這些測試和調整。
```

**驗證檢查**：
- [ ] 所有功能測試通過
- [ ] UI/UX 一致且美觀
- [ ] 所有設備響應式正常
- [ ] 所有瀏覽器兼容
- [ ] 性能指標達標
- [ ] 可訪問性達標
- [ ] 錯誤處理完善
- [ ] 邊界情況處理正確
- [ ] 文檔完整

---

## 🎉 完成檢查清單

### 階段 1：搜尋表單 UI
- [ ] 步驟 1.1：基礎參數卡片優化
- [ ] 步驟 1.2：對沖參數卡片優化
- [ ] 步驟 1.3：篩選條件卡片優化
- [ ] 步驟 1.4：搜尋按鈕優化
- [ ] 步驟 1.5：表單驗證
- [ ] 步驟 1.6：表單重置功能

### 階段 2：結果卡片 UI
- [ ] 步驟 2.1：卡片整體佈局優化
- [ ] 步驟 2.2：卡片頭部優化
- [ ] 步驟 2.3：協議和鏈 Badge 優化
- [ ] 步驟 2.4：主要指標區域優化
- [ ] 步驟 2.5：IL 對沖分析區域優化

### 階段 3：收益分解和其他指標
- [ ] 步驟 3.1：收益分解區域優化
- [ ] 步驟 3.2：其他指標區域優化
- [ ] 步驟 3.3：操作按鈕區域

### 階段 4：交互和動畫
- [ ] 步驟 4.1：加載狀態
- [ ] 步驟 4.2：空狀態和錯誤狀態
- [ ] 步驟 4.3：動畫效果
- [ ] 步驟 4.4：響應式優化

### 階段 5：性能和最終調整
- [ ] 步驟 5.1：性能優化
- [ ] 步驟 5.2：可訪問性優化
- [ ] 步驟 5.3：最終測試和調整

---

## 📞 使用建議

1. **按順序完成**：
   - 從階段 1 開始
   - 完成一個步驟再進行下一個
   - 每個步驟都進行驗證

2. **使用提示詞**：
   - 直接複製提示詞到 Lovable
   - 等待生成完成
   - 檢查驗證清單

3. **遇到問題**：
   - 查看驗證檢查清單
   - 告訴 Lovable 具體問題
   - 請求調整或修復

4. **測試和調整**：
   - 完成每個階段後測試
   - 根據需要微調
   - 記錄問題和改進

5. **保持耐心**：
   - Lovable 生成需要時間
   - 可能需要多次調整
   - 最終結果值得等待

---

**祝您開發順利！打造出專業的 LAL 智能搜尋功能！** 🚀

