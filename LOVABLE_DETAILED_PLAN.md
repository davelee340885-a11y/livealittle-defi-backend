# LiveaLittle DeFi - Lovable 超詳細開發計劃

## 📋 目錄

1. [項目初始化](#項目初始化)
2. [Day 1-2: 基礎架構](#day-1-2-基礎架構)
3. [Day 3-4: 儀表板](#day-3-4-儀表板)
4. [Day 5-7: 策略配置](#day-5-7-策略配置)
5. [Day 8-10: 轉倉確認系統](#day-8-10-轉倉確認系統)
6. [Day 11-12: 回測展示](#day-11-12-回測展示)
7. [Day 13-14: 訂閱與支付](#day-13-14-訂閱與支付)
8. [部署與上線](#部署與上線)

---

## 項目初始化

### 在 Lovable 創建項目

**步驟**:
1. 訪問 https://lovable.dev
2. 點擊 "New Project"
3. 輸入項目名稱: "LiveaLittle DeFi"

### Lovable 初始化提示詞

```
我要創建一個名為 "LiveaLittle DeFi" 的 DeFi 收益策略平台。

## 技術要求
- React 18 + TypeScript
- Tailwind CSS
- Vite 作為構建工具
- React Router 用於路由

## 設計風格
使用深色主題，配色方案：
- 主色（Primary）: #00D9FF（青色）
- 輔色（Secondary）: #00FF88（綠色）
- 背景（Background）: #0A0E27（深藍）
- 表面（Surface）: #1a1f3a（淺藍）
- 文字（Text）: #E0E6ED（淺灰）
- 成功色: #00FF88
- 警告色: #FFB800
- 錯誤色: #FF6B6B

## 頁面結構
創建以下頁面和路由：
1. / - Landing Page（首頁）
2. /dashboard - Dashboard（儀表板）
3. /strategy - Strategy Config（策略配置）
4. /backtest - Backtest Results（回測展示）
5. /subscription - Subscription（訂閱管理）
6. /rebalance - Rebalance（轉倉確認）

## 導航欄
創建一個頂部導航欄，包含：
- Logo（左側）: "LiveaLittle DeFi"
- 導航鏈接（中間）: Dashboard, Strategy, Backtest, Subscription
- 連接錢包按鈕（右側）: "Connect Wallet"

導航欄背景使用半透明的深藍色，固定在頂部。

## 首頁設計
Landing Page 包含：
1. Hero Section:
   - 大標題: "智能化 DeFi 收益策略"
   - 副標題: "年化收益 173.6%，零回撤"
   - CTA 按鈕: "開始使用"（青色背景）
   
2. 特色展示（3個卡片並排）:
   - 卡片1: "高收益" - 年化收益超過 150%
   - 卡片2: "零風險" - Delta Neutral 策略保護本金
   - 卡片3: "全自動" - 智能轉倉和風險管理

3. 回測結果展示:
   - 標題: "真實數據驗證"
   - 顯示關鍵指標: 年化收益、夏普比率、最大回撤

請先創建這個基礎結構，使用現代化的設計風格，確保移動端響應式。
```

---

## Day 1-2: 基礎架構

### 任務 1: 設置 Supabase 認證

**Lovable 提示詞**:

```
為 LiveaLittle DeFi 添加用戶認證功能。

## 使用 Supabase
集成 Supabase 作為後端：
- 安裝 @supabase/supabase-js
- 創建 Supabase 客戶端配置

## 認證頁面
創建 /auth 路由，包含：

1. 登入表單:
   - Email 輸入框
   - 密碼輸入框
   - "登入" 按鈕（青色背景）
   - "還沒有帳號？註冊" 鏈接

2. 註冊表單:
   - Email 輸入框
   - 密碼輸入框
   - 確認密碼輸入框
   - "註冊" 按鈕
   - "已有帳號？登入" 鏈接

## 設計要求
- 使用卡片佈局，居中顯示
- 卡片背景使用 Surface 色（#1a1f3a）
- 輸入框使用深色背景，青色邊框
- 按鈕使用漸變效果（青色到綠色）
- 添加表單驗證和錯誤提示

## 認證狀態管理
- 使用 React Context 管理用戶狀態
- 登入後重定向到 Dashboard
- 未登入時訪問受保護頁面自動跳轉到登入頁

請實現完整的認證流程。
```

### 任務 2: 錢包連接功能

**Lovable 提示詞**:

```
為 LiveaLittle DeFi 添加 Web3 錢包連接功能。

## 使用 RainbowKit
集成 RainbowKit 和 Wagmi：
- 安裝 @rainbow-me/rainbowkit 和 wagmi
- 配置支持的錢包: MetaMask, WalletConnect, Coinbase Wallet

## 支持的區塊鏈
- Ethereum (Mainnet)
- Arbitrum
- Base
- Optimism

## 錢包按鈕
更新導航欄的 "Connect Wallet" 按鈕：
- 未連接時顯示 "Connect Wallet"
- 已連接時顯示簡短地址（0x1234...5678）
- 點擊已連接地址顯示下拉菜單:
  - 顯示完整地址
  - 顯示餘額
  - "斷開連接" 按鈕

## 設計要求
- 使用 RainbowKit 的默認主題，但自定義顏色匹配我們的配色方案
- 錢包按鈕使用青色邊框和背景
- 下拉菜單使用深色背景

請實現完整的錢包連接功能。
```

---

## Day 3-4: 儀表板

### 任務 3: 儀表板總覽

**Lovable 提示詞**:

```
創建 LiveaLittle DeFi 的儀表板頁面。

## 頁面佈局
Dashboard 頁面分為以下區域：

### 1. 總覽卡片（頂部，3個並排）

**卡片 1: 總資產**
- 標題: "Total Assets"
- 數值: $27,438（大字體，48px）
- 副標題: "當前總資產價值"
- 圖標: 💰（左上角）

**卡片 2: 總收益**
- 標題: "Total Profit"
- 數值: +$17,438（綠色，48px）
- 百分比: +174%（綠色，24px）
- 副標題: "自開始以來的總收益"
- 圖標: 📈

**卡片 3: 年化收益率**
- 標題: "Annual APY"
- 數值: 173.6%（青色，48px）
- 副標題: "基於真實歷史數據"
- 圖標: 🎯

### 2. 收益曲線圖（中間，全寬）

使用 Recharts 創建折線圖：
- X軸: 日期（過去 30 天）
- Y軸: 資產價值（美元）
- 兩條線:
  - Delta Neutral 策略（青色線）
  - 純 LP 策略（灰色虛線）
- 圖例顯示在右上角
- 懸停時顯示具體數值

### 3. 當前倉位（底部，表格）

創建一個表格顯示當前倉位：

**列**:
- 類型（LP / Hedge）
- 協議（Uniswap, Raydium 等）
- 鏈（Ethereum, Solana 等）
- 代幣對（WETH-USDC 等）
- 金額（美元）
- APY（百分比）
- 狀態（Active / Pending）

**示例數據**:
```
Type    | Protocol  | Chain     | Pair        | Amount  | APY     | Status
--------|-----------|-----------|-------------|---------|---------|--------
LP      | Raydium   | Solana    | WSOL-USDC   | $5,000  | 222.6%  | Active
Hedge   | Hyperliquid| Arbitrum | SOL-PERP    | $2,500  | -7.3%   | Active
LP      | Uniswap V3| Ethereum  | WETH-USDC   | $5,000  | 116.9%  | Active
Hedge   | dYdX      | Ethereum  | ETH-PERP    | $2,500  | -5.1%   | Active
```

## 設計要求
- 所有卡片使用 Surface 色背景（#1a1f3a）
- 卡片圓角 12px，陰影 0 4px 20px rgba(0, 217, 255, 0.1)
- 卡片之間間距 24px
- 表格使用斑馬紋（交替行顏色）
- 表格支持排序（點擊列標題）
- 移動端響應式：卡片在小屏幕上垂直堆疊

請創建完整的儀表板頁面。
```

### 任務 4: 風險指標面板

**Lovable 提示詞**:

```
在 Dashboard 頁面添加風險指標面板。

## 位置
在收益曲線圖下方，倉位表格上方。

## 風險指標卡片（4個並排）

**卡片 1: 當前 Delta**
- 標題: "Current Delta"
- 數值: $0.00（大字體）
- 狀態指示器: ✅ Neutral（綠色）
- 進度條: 顯示 Delta 偏離程度（-100% 到 +100%）
- 說明: "完美對沖，無市場風險敞口"

**卡片 2: 最大回撤**
- 標題: "Max Drawdown"
- 數值: 0.00%（綠色）
- 對比: vs 純 LP: -16.67%（灰色）
- 說明: "零回撤，完美保護本金"

**卡片 3: 夏普比率**
- 標題: "Sharpe Ratio"
- 數值: 609.78（青色）
- 評級: ⭐⭐⭐⭐⭐ Excellent
- 說明: "風險調整後收益極佳"

**卡片 4: 市場狀態**
- 標題: "Market Regime"
- 狀態: BULL（綠色）或 BEAR（紅色）或 SIDEWAYS（黃色）
- 評分: 72/100
- 建議: "牛市，可考慮降低對沖至 30-50%"

## 設計要求
- 卡片使用深色背景
- 進度條使用漸變色（青色到綠色）
- 狀態指示器使用圖標和顏色
- 懸停時顯示詳細說明

請添加這個風險指標面板。
```

---

## Day 5-7: 策略配置

### 任務 5: LP 池選擇器

**Lovable 提示詞**:

```
創建策略配置頁面的 LP 池選擇器。

## 頁面標題
"配置您的 DeFi 收益策略"

## LP 池選擇器

### 篩選器（頂部）
- 最小 TVL 滑塊: $100K - $100M
- 最小 APY 滑塊: 0% - 500%
- 鏈選擇器: 多選下拉菜單（Ethereum, Arbitrum, Base, Solana 等）
- 協議選擇器: 多選下拉菜單（Uniswap, Raydium, Curve 等）
- "應用篩選" 按鈕

### LP 池列表（卡片網格）

每個池顯示為一個卡片，包含：

**卡片內容**:
- 協議 Logo（左上角）
- 鏈 Badge（右上角）
- 代幣對: WSOL-USDC（大字體）
- TVL: $18.45M
- APY: 222.6%（綠色大字體）
- 戴維斯評分: 100/100（⭐⭐⭐⭐⭐）
- 費用增長: +15.2%（7天）
- TVL 增長: +2.1%（7天）
- 選擇按鈕: "添加到策略"（青色）

**卡片狀態**:
- 未選中: 灰色邊框
- 已選中: 青色邊框，青色背景高亮
- 懸停: 輕微放大效果

### 已選池摘要（右側邊欄）

顯示已選擇的池：
- 池名稱列表
- 總 APY: 計算加權平均
- 預期年化收益: 基於投入金額
- "下一步：風險設置" 按鈕

## 示例數據（至少顯示 10 個池）

```json
[
  {
    "protocol": "Raydium",
    "chain": "Solana",
    "pair": "WSOL-USDC",
    "tvl": 18450000,
    "apy": 222.6,
    "davis_score": 100,
    "fee_growth_7d": 15.2,
    "tvl_growth_7d": 2.1
  },
  {
    "protocol": "Uniswap V3",
    "chain": "Arbitrum",
    "pair": "WETH-USDC",
    "tvl": 87130000,
    "apy": 116.9,
    "davis_score": 95,
    "fee_growth_7d": 12.5,
    "tvl_growth_7d": 1.8
  }
  // ... 更多池
]
```

## 設計要求
- 卡片網格: 3列（桌面）、2列（平板）、1列（手機）
- 卡片間距: 16px
- 使用虛擬滾動優化性能（如果池數量 > 50）
- 添加加載動畫和骨架屏

請創建完整的 LP 池選擇器。
```

### 任務 6: 風險設置

**Lovable 提示詞**:

```
在策略配置頁面添加風險設置區域。

## 位置
在 LP 池選擇器下方，或作為第二步（如果使用步驟式表單）。

## 風險設置表單

### 1. 投入金額
- 標題: "投入金額"
- 數字輸入框: 默認 $10,000
- 快捷按鈕: $1K, $5K, $10K, $50K, $100K
- 顯示錢包餘額: "可用: $XX,XXX"

### 2. 對沖比例
- 標題: "對沖比例"
- 滑塊: 0% - 100%，默認 100%
- 實時顯示當前值: "100%（完全對沖）"
- 說明:
  - 100%: Delta Neutral，完全保護
  - 50%: 部分對沖，保留 50% 多頭敞口
  - 0%: 無對沖，完全暴露於價格風險

### 3. 回撤容忍度
- 標題: "最大回撤容忍度"
- 滑塊: 0% - 30%，默認 20%
- 實時顯示: "20%"
- 說明: "當回撤超過此值時，系統將發出警報"

### 4. 自動轉倉設置
- 開關: "啟用自動轉倉"（默認開啟）
- 條件設置（當開關開啟時顯示）:
  - APY 提升閾值: 滑塊 0% - 100%，默認 10%
  - 回本天數上限: 滑塊 1-30 天，默認 7 天
  - 最小淨收益: 輸入框，默認 $100

### 5. 預期收益計算（右側卡片）

實時計算並顯示：
- 投入金額: $10,000
- 選擇的池: 3 個
- 加權平均 APY: 180.5%
- 預期年化收益: $18,050
- 預期月收益: $1,504
- 預期日收益: $49.45

### 6. 風險提示（底部）

顯示風險警告：
- ⚠️ 智能合約風險
- ⚠️ 無常損失風險（已對沖）
- ⚠️ 資金費率波動風險
- ⚠️ 流動性風險

### 7. 確認按鈕

- "創建策略" 按鈕（大按鈕，青色背景）
- 點擊後顯示確認對話框

## 設計要求
- 使用卡片佈局
- 滑塊使用青色軌道和把手
- 實時更新預期收益計算
- 添加工具提示解釋每個設置
- 表單驗證: 投入金額必須 > 0

請創建完整的風險設置表單。
```

### 任務 7: 策略確認對話框

**Lovable 提示詞**:

```
創建策略確認對話框。

## 觸發
點擊 "創建策略" 按鈕後彈出。

## 對話框內容

### 標題
"確認策略配置"

### 策略摘要（卡片式佈局）

**1. 投資配置**
- 總投入: $10,000
- 選擇的池: 3 個
  - Raydium WSOL-USDC: $3,333（33.3%）
  - Uniswap WETH-USDC: $3,333（33.3%）
  - Joe V2.1 WAVAX-USDC: $3,334（33.4%）

**2. 對沖設置**
- 對沖比例: 100%（完全對沖）
- 對沖倉位:
  - 做空 SOL: $1,667
  - 做空 ETH: $1,667
  - 做空 AVAX: $1,667

**3. 風險參數**
- 最大回撤容忍度: 20%
- 自動轉倉: 啟用
- APY 提升閾值: 10%

**4. 預期收益**
- 加權平均 APY: 180.5%
- 預期年化收益: $18,050
- 預期月收益: $1,504
- 預期日收益: $49.45

**5. 成本估算**
- Gas 費用: ~$50
- 滑點: ~1%（$100）
- 總成本: ~$150

**6. Delta 分析**
- LP 多頭敞口: +$5,000
- 對沖空頭敞口: -$5,000
- 淨 Delta: $0 ✅

### 風險確認
- 複選框: "我已閱讀並理解相關風險"
- 複選框: "我確認以上配置正確"

### 按鈕
- "確認並創建"（青色，主要按鈕）
- "返回修改"（灰色，次要按鈕）

## 設計要求
- 模態對話框，居中顯示
- 背景半透明遮罩
- 對話框最大寬度 800px
- 使用卡片分隔不同區域
- 添加滾動條（如果內容過長）
- 確認按鈕只有在兩個複選框都勾選後才啟用

## 確認後的操作
- 顯示加載動畫
- 調用 API 創建策略
- 成功後跳轉到 Dashboard
- 顯示成功提示: "策略已創建！"

請創建完整的確認對話框。
```

---

## Day 8-10: 轉倉確認系統

### 任務 8: 轉倉機會卡片

**Lovable 提示詞**:

```
創建轉倉確認頁面。

## 頁面標題
"轉倉機會"

## 機會列表

顯示所有待確認的轉倉機會，每個機會一個卡片。

### 機會卡片設計

**卡片頭部**
- 優先級標籤:
  - HIGH（紅色背景）: 回本天數 < 3 天
  - MEDIUM（黃色背景）: 回本天數 3-7 天
  - LOW（綠色背景）: 回本天數 > 7 天
- 時間戳: "2 小時前發現"

**卡片主體**

**1. 轉倉摘要**
```
從: Uniswap V3 WETH-USDC (120% APY)
到: Raydium WSOL-USDC (220% APY)

APY 提升: +100% 📈
```

**2. 財務影響（網格佈局，2x3）**
- 倉位金額: $5,000
- 總成本: $100
- 30天收益: $411
- 淨收益: $311（綠色）
- 回本天數: 7.3 天
- ROI: 6.2%

**3. 執行計劃（時間線樣式）**

```
Step 1: 平倉 WETH 空頭倉位
        預計時間: 1-2 分鐘
        預計成本: $25

Step 2: 退出 Uniswap V3 LP 池
        預計時間: 2-3 分鐘
        預計成本: $30

Step 3: 進入 Raydium LP 池
        預計時間: 2-3 分鐘
        預計成本: $30

Step 4: 開設 WSOL 空頭倉位
        預計時間: 1-2 分鐘
        預計成本: $15

總預計時間: 6-10 分鐘
```

**4. Delta 影響分析**
```
當前 Delta: $0
轉倉中 Delta: +$5,000（臨時風險敞口）
完成後 Delta: $0 ✅
```

**5. 風險提示**
- ⚠️ 價格滑點風險: 可能損失 0.5-1%
- ⚠️ Gas 費用波動: 實際成本可能 ±20%
- ⚠️ 智能合約風險: 使用經過審計的協議
- ⚠️ 轉倉期間 Delta 敞口: 約 5-10 分鐘

**6. 智能建議**
- ✅ 優質池子: 戴維斯雙擊評分 100/100
- ✅ 成本合理: 回本天數僅 7.3 天
- ✅ 高收益提升: APY 提升 100%
- ⚠️ 注意: Solana 網絡偶爾擁堵

**卡片底部 - 操作按鈕（3個並排）**

1. ✅ 確認執行（綠色，主要按鈕）
   - 懸停提示: "立即執行轉倉計劃"
   
2. ❌ 拒絕（紅色，次要按鈕）
   - 懸停提示: "拒絕此次機會"
   
3. ⏰ 稍後決定（灰色，次要按鈕）
   - 懸停提示: "保留 1 小時，稍後決定"

## 設計要求
- 卡片使用深色背景
- 重要數字使用大字體和顏色強調
- 時間線使用垂直線連接各步驟
- 按鈕使用圖標 + 文字
- 添加展開/收起功能（默認收起風險提示和智能建議）

## 示例數據（顯示 2-3 個機會）

請創建完整的轉倉機會頁面。
```

### 任務 9: 執行確認對話框

**Lovable 提示詞**:

```
創建轉倉執行確認對話框。

## 觸發
點擊 "✅ 確認執行" 按鈕後彈出。

## 對話框內容

### 標題
"⚠️ 最終確認"

### 警告信息
```
您即將執行以下轉倉操作，此操作不可撤銷。
請仔細檢查所有信息。
```

### 轉倉摘要（簡潔版）
- 從: Uniswap V3 WETH-USDC
- 到: Raydium WSOL-USDC
- 金額: $5,000
- 預期淨收益: $311（30天）

### 風險確認清單
- [ ] 我理解轉倉期間會有 5-10 分鐘的 Delta 敞口
- [ ] 我理解實際成本可能因 Gas 費用波動而變化
- [ ] 我理解價格滑點可能影響最終收益
- [ ] 我確認已檢查所有信息並願意承擔風險

### 2FA 驗證（可選）
- 輸入框: "請輸入 2FA 驗證碼"
- 說明: "為了保護您的資金安全"

### 按鈕
- "確認執行"（紅色，主要按鈕）
  - 只有在所有複選框勾選後才啟用
- "取消"（灰色，次要按鈕）

## 執行後的流程

### 1. 執行中對話框
顯示實時進度：
```
執行中... 請勿關閉頁面

Step 1: 平倉 WETH 空頭倉位
狀態: ✅ 完成
交易哈希: 0x1234...5678

Step 2: 退出 Uniswap V3 LP 池
狀態: ⏳ 進行中...
預計剩餘時間: 2 分鐘

Step 3: 進入 Raydium LP 池
狀態: ⏸️ 等待中

Step 4: 開設 WSOL 空頭倉位
狀態: ⏸️ 等待中
```

### 2. 成功對話框
```
✅ 轉倉成功！

所有步驟已完成，您的策略已更新。

實際成本: $105（預估 $100）
實際時間: 8 分鐘（預估 6-10 分鐘）

新倉位:
- Raydium WSOL-USDC: $5,000
- 做空 WSOL: $2,500

當前 Delta: $0 ✅

"查看儀表板" 按鈕
```

### 3. 失敗對話框（如果失敗）
```
❌ 轉倉失敗

Step 2 失敗: 退出 Uniswap V3 LP 池
錯誤信息: Insufficient liquidity

已回滾操作:
- Step 1 已撤銷

您的資金安全，策略保持不變。

"返回" 按鈕
"重試" 按鈕
```

## 設計要求
- 使用模態對話框
- 執行中對話框不可關閉
- 進度條使用動畫效果
- 成功/失敗使用不同的顏色主題

請創建完整的執行確認和進度對話框。
```

---

## Day 11-12: 回測展示

### 任務 10: 回測結果頁面

**Lovable 提示詞**:

```
創建回測結果展示頁面。

## 頁面標題
"策略回測驗證"

## 頁面佈局

### 1. 回測參數（頂部卡片）
顯示回測的基本信息：
- 回測期間: 2024-10-16 至 2025-10-15（365天）
- 初始資金: $10,000
- 市場環境: 牛市（BTC +68.1%）
- 數據來源: CoinGecko 真實歷史數據

### 2. 關鍵指標對比（3列卡片）

**卡片 1: Delta Neutral 策略**
- 最終資金: $27,438
- 總收益: +$17,438
- 年化收益: 173.6%（綠色大字）
- 最大回撤: 0.00%
- 夏普比率: 609.78
- 評級: ⭐⭐⭐⭐⭐ 優秀

**卡片 2: 純 LP 策略**
- 最終資金: $18,256
- 總收益: +$8,256
- 年化收益: 82.3%
- 最大回撤: -16.67%（紅色）
- 夏普比率: 3.55
- 評級: ⭐⭐⭐ 良好

**卡片 3: 優勢對比**
- 多賺: +$9,182（+111%）
- 回撤優勢: +16.67%
- 夏普比率優勢: +606.23
- 風險調整收益: 遠超純 LP

### 3. 收益曲線圖（全寬）

使用 Recharts 創建折線圖：
- X軸: 日期（365天）
- Y軸: 資產價值（$10K - $30K）
- 三條線:
  - Delta Neutral（青色實線）
  - 純 LP（灰色虛線）
  - 初始資金基準線（$10K，淺灰色虛線）
- 圖例
- 懸停顯示具體數值和日期

### 4. 月度收益表格

顯示每月的收益情況：

| 月份 | Delta Neutral | 純 LP | 優勢 |
|------|---------------|-------|------|
| 2024-10 | +12.5% | +8.2% | +4.3% |
| 2024-11 | +14.2% | +6.1% | +8.1% |
| 2024-12 | +15.8% | +9.5% | +6.3% |
| 2025-01 | +13.1% | +7.8% | +5.3% |
| ... | ... | ... | ... |

### 5. 風險分析（2列卡片）

**左側: 回撤分析**
- 最大回撤: 0.00% vs -16.67%
- 回撤次數: 0 vs 5
- 平均回撤: 0.00% vs -8.3%
- 回撤恢復時間: N/A vs 平均 12 天

**右側: 波動性分析**
- 日波動率: 0.12% vs 2.45%
- 月波動率: 0.35% vs 7.12%
- 下行風險: 極低 vs 中等
- 風險評級: AAA vs BBB

### 6. 市場環境測試（標籤頁）

創建 3 個標籤：

**標籤 1: 牛市（當前顯示）**
- 年化收益: 173.6%
- 說明: "即使在牛市中，Delta Neutral 仍優於純 LP"

**標籤 2: 熊市（模擬）**
- 年化收益: 230%（Delta Neutral）vs 44%（純 LP）
- 說明: "熊市中優勢更明顯"

**標籤 3: 橫盤（模擬）**
- 年化收益: 315%（Delta Neutral）vs -0.56%（純 LP）
- 說明: "橫盤市場是 Delta Neutral 的主場"

### 7. 下載報告按鈕

- "下載 PDF 報告" 按鈕（青色）
- "導出數據（CSV）" 按鈕（灰色）

## 設計要求
- 使用大量圖表和可視化
- 關鍵數字使用大字體和顏色強調
- 添加動畫效果（數字滾動、圖表動畫）
- 確保移動端響應式

請創建完整的回測結果頁面。
```

---

## Day 13-14: 訂閱與支付

### 任務 11: 定價頁面

**Lovable 提示詞**:

```
創建訂閱管理頁面。

## 頁面標題
"選擇適合您的計劃"

## 定價表格（3列）

### 列 1: 基礎版
- 價格: $29/月
- 副標題: "適合個人投資者"
- 功能列表:
  - ✅ 3個策略池監控
  - ✅ 每日自動再平衡
  - ✅ 基礎風險保護
  - ✅ 社區支持
  - ❌ 實時自動優化
  - ❌ 高級風險管理
  - ❌ 完整回測報告
- 按鈕: "選擇基礎版"（灰色邊框）

### 列 2: 專業版（推薦）
- 標籤: "最受歡迎" 🔥
- 價格: $99/月
- 副標題: "適合專業交易者"
- 功能列表:
  - ✅ 無限策略池
  - ✅ 實時自動優化
  - ✅ 高級風險管理
  - ✅ 優先支持
  - ✅ 完整回測報告
  - ✅ API 訪問（基礎）
  - ✅ 自定義警報
- 按鈕: "選擇專業版"（青色背景，高亮）
- 特殊效果: 卡片稍微放大，青色邊框發光

### 列 3: 機構版
- 價格: $499/月
- 副標題: "適合機構和團隊"
- 功能列表:
  - ✅ 專業版所有功能
  - ✅ 定制策略開發
  - ✅ 完整 API 訪問
  - ✅ 專屬客戶經理
  - ✅ SLA 服務保障
  - ✅ 白標解決方案
  - ✅ 團隊協作功能
- 按鈕: "聯繫我們"（灰色邊框）

## 常見問題（底部）

使用手風琴組件：

**Q1: 可以隨時取消訂閱嗎？**
A: 是的，您可以隨時取消訂閱，不會收取任何額外費用。

**Q2: 支持哪些支付方式？**
A: 我們支持信用卡、借記卡和加密貨幣支付。

**Q3: 有免費試用嗎？**
A: 專業版提供 7 天免費試用，無需信用卡。

**Q4: 可以升級或降級計劃嗎？**
A: 是的，您可以隨時升級或降級，費用將按比例調整。

**Q5: 資金安全嗎？**
A: 我們使用非托管模式，您的資金始終在您的錢包中，我們無法訪問。

## 設計要求
- 3列定價卡片並排（桌面）
- 移動端垂直堆疊
- 專業版卡片高亮顯示
- 功能列表使用圖標（✅❌）
- 按鈕懸停效果
- 添加動畫（卡片進入動畫）

請創建完整的定價頁面。
```

### 任務 12: Stripe 支付集成

**Lovable 提示詞**:

```
集成 Stripe 支付功能。

## 安裝依賴
- @stripe/stripe-js
- @stripe/react-stripe-js

## 支付流程

### 1. 點擊 "選擇計劃" 按鈕
觸發函數創建 Stripe Checkout Session。

### 2. 後端 API（需要實現）
```typescript
POST /api/subscription/checkout
Body: {
  priceId: "price_xxx",
  userId: "user_xxx"
}

Response: {
  sessionId: "cs_xxx",
  url: "https://checkout.stripe.com/..."
}
```

### 3. 跳轉到 Stripe Checkout
使用 Stripe 提供的 Checkout 頁面。

### 4. 支付成功後
- Stripe 重定向回 /subscription/success?session_id=xxx
- 顯示成功頁面
- 更新用戶訂閱狀態

### 5. 支付失敗
- Stripe 重定向回 /subscription/cancel
- 顯示失敗頁面
- 提供重試選項

## 成功頁面設計

```
✅ 訂閱成功！

感謝您訂閱 LiveaLittle DeFi 專業版。

您的訂閱詳情:
- 計劃: 專業版
- 價格: $99/月
- 下次帳單日期: 2025-11-15
- 訂閱 ID: sub_xxx

您現在可以:
- 創建無限策略池
- 使用實時自動優化
- 訪問完整回測報告

"前往儀表板" 按鈕
"管理訂閱" 按鈕
```

## 訂閱管理頁面

創建 /subscription/manage 頁面：

### 當前訂閱卡片
- 計劃: 專業版
- 狀態: 活躍（綠色）
- 下次帳單: 2025-11-15
- 金額: $99

### 操作按鈕
- "升級到機構版"
- "降級到基礎版"
- "取消訂閱"（紅色）

### 帳單歷史表格
| 日期 | 金額 | 狀態 | 發票 |
|------|------|------|------|
| 2025-10-15 | $99 | 已支付 | 下載 |
| 2025-09-15 | $99 | 已支付 | 下載 |

## Webhook 處理（後端）

```typescript
POST /api/subscription/webhook

處理 Stripe 事件:
- checkout.session.completed: 更新用戶訂閱狀態
- customer.subscription.updated: 更新訂閱信息
- customer.subscription.deleted: 取消訂閱
- invoice.payment_succeeded: 記錄支付成功
- invoice.payment_failed: 處理支付失敗
```

## 設計要求
- 使用 Stripe 的默認 Checkout 頁面（無需自定義）
- 成功/失敗頁面使用大圖標和清晰的文字
- 訂閱管理頁面使用卡片佈局
- 添加加載狀態和錯誤處理

請實現完整的 Stripe 支付集成。
```

---

## 部署與上線

### 任務 13: 部署到生產環境

**步驟**:

1. **前端部署（Vercel）**
   - 連接 GitHub 倉庫
   - 配置環境變量
   - 自動部署

2. **後端部署（Railway）**
   - 創建 FastAPI 項目
   - 配置環境變量
   - 部署 Python 後端

3. **數據庫（Supabase）**
   - 創建生產數據庫
   - 運行遷移腳本
   - 配置 RLS 策略

4. **域名配置**
   - 購買域名（如 livealittle.defi）
   - 配置 DNS
   - 設置 SSL 證書

5. **監控和日誌**
   - 設置 Sentry 錯誤追蹤
   - 配置 Google Analytics
   - 設置性能監控

---

## 📊 完成檢查清單

### Week 1
- [ ] 項目初始化
- [ ] Supabase 認證
- [ ] 錢包連接
- [ ] 儀表板總覽
- [ ] 風險指標面板
- [ ] LP 池選擇器
- [ ] 風險設置
- [ ] 策略確認

### Week 2
- [ ] 轉倉機會卡片
- [ ] 執行確認對話框
- [ ] 回測結果頁面
- [ ] 定價頁面
- [ ] Stripe 支付集成
- [ ] 訂閱管理
- [ ] 部署到生產環境

### 上線前
- [ ] 安全審計
- [ ] 性能優化
- [ ] 移動端測試
- [ ] Beta 測試
- [ ] 文檔完善

---

**這份詳細計劃涵蓋了從初始化到上線的每一個步驟。按照這個計劃，您可以在 2 週內完成一個功能完整、設計精美的 DeFi 收益策略平台！** 🚀

